<div ng-init="obtenerEstados(); obtenerMunicipiosOrigen(1); obtenerMunicipiosDestino(1); initMap();">
    <h2>Reportar Animal en Carretera</h2>
    <hr />
    <div class="row">
        <div class="alert alert-danger fade in retro" ng-show="errores">{{mensaje}}</div>
        <div class="alert alert-success fade in retro" ng-show="exito">{{mensaje}}</div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <h3>1. Incidente <span class="info"><i class="fa fa-info-circle" title="Imagen y fecha en la que sucedió el incidente"></i></span></h3>
            <div class="form-group">
                <div class="archivo btn btn-default">
                    <span><i class="fa fa-camera fa-2x"></i></span>
                    <input type="file" id="imagen" onchange="angular.element(this).scope().encodeImageFileAsURL(this)" class="upload"/>
                </div>
                <label for="imagen">Seleccionar Imagen</label>
            </div>
            <div class="form-group">
                <label for="fecha">Fecha</label>
                <input class="form-control"  id="fecha" type="date" ng-model="fecha"/>
            </div>
        </div>
        <div class="col-sm-3 col-sm-offset-1" id="vistaPrevia">
            <img src="img/vistaPrevia.png" width="100%" title="Vista Previa">
        </div>
    </div>
    <hr/>
    <div class="row">
        <div class="col-sm-12">
            <h3>2. Origen <span class="info"><i class="fa fa-info-circle" title="Municipio más cercano al incidente"></i></span></h3>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <label>Estado</label>
                <select class="form-control" ng-model="ruta.origen.idEstado" ng-options="estado.id_estado as estado.estado for estado in estados" ng-change="obtenerMunicipiosOrigen(); limpiarMapa()"></select>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <label>Municipio</label>
                <select class="form-control" ng-model="ruta.origen.nombreMunicipio" ng-options="municipio.nombre_municipio as municipio.nombre_municipio for municipio in municipiosOrigen" ng-change="calcRuta()"></select>
            </div>
        </div>
    </div>
    <hr/>
    <div class="row">
        <div class="col-sm-12">
            <h3>3. Destino <span class="info"><i class="fa fa-info-circle" title="Municipio más cercano al incidente"></i></span></h3>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <label>Estado</label>
                <select class="form-control" ng-model="ruta.destino.idEstado" ng-options="estado.id_estado as estado.estado for estado in estados" ng-change="obtenerMunicipiosDestino(); limpiarMapa()"></select>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <label>Municipio</label>
                <select class="form-control" ng-model="ruta.destino.nombreMunicipio" ng-options="municipio.nombre_municipio as municipio.nombre_municipio for municipio in municipiosDestino" ng-change="calcRuta()"></select>
            </div>
        </div>
    </div>
    <hr/>
    <div class="row">
        <div class="col-sm-12">
            <h3>4. Selecciona la ubicación del incidente <span class="info"><i class="fa fa-info-circle" title="Dando click en el mapa, selecciona la ubicación"></i></span></h3>
        </div>
    </div>
    <div style="display:block; height:600px; width:100%;" id="map-canvas"></div>
    <br>
    <div id="" class="row">
        <div id="" class="col-xs-12">
            <button class="col-xs-4 col-xs-offset-4  btn btn-success" ng-click="validarForma()">Enviar</button>
        </div>
    </div>
<br>
</div>
